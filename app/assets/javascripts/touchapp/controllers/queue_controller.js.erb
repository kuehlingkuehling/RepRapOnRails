touchApp.controller('QueueController', function($scope, $modal, MyWebsocket, CommonCode){
  console.log("Running QueueController");  

  MyWebsocket.menuDisabled = false; 

 $scope.$watch(function(){ return MyWebsocket.print; }, function(newValue){
    if (( MyWebsocket.print.state == 2) || ( MyWebsocket.print.state == 3 ) || ( MyWebsocket.print.state == 5 )) {
      $scope.printing = true;
    } else {
      $scope.printing = false;      
    }    
  }, true);    
  
  $scope.$watch(function(){ return MyWebsocket.print; }, function(newValue){
    $scope.print = MyWebsocket.print;
    if (MyWebsocket.print.state == 1) {
      $scope.idle = true;
    } else {
      $scope.idle = false;      
    }    
  }, true);    

  $scope.$watch(function(){ return MyWebsocket.printjobs; }, function(){
    $scope.printjobs = MyWebsocket.printjobs;
  },true);  




  
     
});